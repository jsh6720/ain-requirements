# AIN 수입요건 관리 시스템

## 프로젝트 개요
AIN 수입요건 관리 시스템은 수입 데이터를 효율적으로 관리하기 위한 웹 애플리케이션입니다. 다중 사용자 인증, 역할 기반 접근 제어, 파일 업로드/다운로드 기능을 제공합니다.

## 주요 기능

### ✅ 완료된 기능

#### 1. 사용자 인증 및 권한 관리
- **다중 사용자 지원**: 1명의 관리자(master) + 21명의 수입업체 사용자
- **3단계 역할 기반 접근 제어**: 
  - **관리자(master)**: 모든 데이터 조회/수정/삭제 가능
  - **영인에스엔(주)**: 8개 관련 업체 데이터 모두 조회/수정 가능
    - 영인과학(주), 영인모빌리티(주), 영인바이오젠 주식회사, 영인에스엔(주)
    - 영인에스티(주), 영인에이티(주), 영인엠텍(주), 영인크로매스(주)
  - **일반 사용자**: 자사 데이터만 조회/수정 가능
- **세션 기반 인증**: 로그인 상태 유지 및 자동 로그아웃

#### 2. 데이터 유형별 관리
시스템은 7가지 수입 데이터 유형을 지원합니다:

1. **화학물질확인** (chemical_confirmation)
   - 상호, 규격정제, 접수번호, 품명 등 20개 필드
   - 일반 사용자는 "상호" 필드로 필터링된 데이터만 조회

2. **MSDS** (msds)
   - 수입자, 규격정제, 물질명, 유해, 비고 등 11개 필드
   - 일반 사용자는 "수입자" 필드로 필터링된 데이터만 조회
   - **자동 혼합/단일 분류**: 물질 개수와 비중 합계로 자동 분류
     - 단일시약: 유효 물질 1개 이하 또는 비중 합계 100% 이상
     - 혼합시약: 유효 물질 2개 이상
     - 혼합시약(LOC): 유효 물질 1개이고 비중 합계 100% 미만
     - 물(CAS 7732-18-5) 제외하고 계산

3. **전파법** (radio_law)
   - 규격정제, 모델명, 인증번호, 화주, 비고 등 23개 필드
   - 일반 사용자는 "화주" 필드로 필터링된 데이터만 조회
   - 전파법 전용 독립 테이블

4. **전안법** (electrical_law)
   - 규격정제, 인증기관, 화주, 모델명, 비고, 인증번호 등 24개 필드
   - 일반 사용자는 "화주" 필드로 필터링된 데이터만 조회
   - 전안법 전용 독립 테이블
   - **인증기관 필드 추가**: 화주 왼쪽에 인증기관 열 표시 (통합 검색에도 포함)

5. **의료기기/원안법 등** (medical_device)
   - 규격정제, 법령부호, 법령, 수입자, 수출자, 확인 여부 6개 필드
   - 일반 사용자는 "수입자" 필드로 필터링된 데이터만 조회
   - 법령 입력 시 법령부호 자동 계산 (29개 법령 지원)

6. **비대상** (non_target)
   - 규격정제, 법령부호, 법령, 수입자, 수출자, 비대상 사유 6개 필드
   - 수입 요건이 비대상인 품목 관리
   - 법령 입력 시 법령부호 자동 계산

7. **확인 필요 List** (review_needed)
   - 규격정제, Description, 단가, HS code, 수입자상호, 해외공급처, 비고, 조치사항 등 20개 필드
   - **화관법 검토 필요**: 화학물질대상이 "Y"이고 화관법(확인명세)와 의료기기/원안법이 모두 공란
   - **화평법 검토 필요**: 
     - MSDS 필요: 화학물질대상이 "Y"이고 화관법(확인명세), 화평법(MSDS)가 모두 공백
     - 신규신고 필요: 화학물질대상이 "Y"이고 화평법(MSDS)가 "신규"
   - **전파법 검토 필요**: 전파대상이 공백이 아니고, 전파법인증과 전파비대상이 모두 공백
   - **전안법 검토 필요**: 전안법대상이 공백이 아니고, 전안법인증과 전안비대상이 모두 공백
   - 필터별 조회 및 다운로드 기능 제공
   - 사용자 계정은 자사 수입자상호 데이터만 조회 가능
   - 비고 및 조치사항 필드로 진행 상황 관리

#### 3. 규격정제 통합 조회 기능
메뉴에서 "통합조회"를 선택하여 규격정제를 입력하면 7가지 모든 데이터 유형에서 한번에 검색하여 결과를 표시합니다:
- **화학물질확인**: 등록 여부 (O/X) + 상호 정보 + 건수
- **MSDS**: 등록 여부 (O/X) + 수입자 정보 + 건수
- **전파법**: 등록 여부 (O/X) + 화주 + 인증번호 + 건수
- **전안법**: 등록 여부 (O/X) + 인증기관 + 화주 + 인증번호 + 비고(정격전압) + 건수
- **의료기기/원안법 등**: 등록 여부 (O/X) + 수입자 + 법령 + 건수
- **비대상**: 등록 여부 (O/X) + 수입자 + 법령 + 비대상 사유 + 건수
- **확인 필요 List**: 등록 여부 (O/X) + 수입자상호 + 해외공급처 + 비고 + 건수

**통합검색 결과 클릭 기능**:
- 등록된 데이터(O 표시)를 클릭하면 해당 섹션으로 자동 이동
- 검색어가 자동으로 입력되어 해당 물품만 필터링되어 표시
- 클릭 가능한 항목은 마우스 커서와 호버 효과로 구분 가능
- 한 번의 클릭으로 통합검색 → 상세 데이터 확인 가능

통합 조회를 통해 특정 규격정제(모델)의 모든 수입요건 등록 상태를 한눈에 파악하고, 클릭 한 번으로 상세 정보를 확인할 수 있습니다.

#### 4. 확인 필요 List 검토 시스템
수입 요건 이행 여부를 체계적으로 관리할 수 있는 확인 필요 리스트 기능:
- **4가지 필터 옵션**: 전체보기, 화관법 검토 필요, 화평법 검토 필요, 전파법 검토 필요, 전안법 검토 필요
- **권한별 데이터 필터링**: 일반 사용자는 자사 수입자상호 데이터만 조회
- **필터 적용 다운로드**: 각 필터별로 Excel 파일 다운로드 가능
- **시각적 뱃지 표시**: 화평법 검토 필요 시 "MSDS 필요" 또는 "신규신고 필요" 뱃지 표시

#### 5. 중복 데이터 방지
각 데이터 유형별로 복합 키를 기반으로 중복을 검사합니다:
- **화학물질확인**: 규격정제 + 접수번호 + 품명
- **MSDS**: 수입자 + 규격정제 + 물질명
- **전파법**: 규격정제 + 인증번호 + 모델명 (v2.2 변경)
- **전안법**: 규격정제 + 인증번호 + 모델명 (v2.2 변경)
- **의료기기/원안법 등**: 규격정제 + 전송관리번호 + 모델명
- **비대상**: 규격정제 + 법령 + 수입자
- **확인 필요 List**: 규격정제 + 수입자상호 + Description

중복된 데이터는 자동으로 건너뛰며, 저장 완료 시 결과를 알림으로 표시합니다.

#### 6. 숫자 형식 문자열 보존
- **규격정제 필드 보호**: 20001.210 같은 값이 20001.21로 자동 변환되지 않도록 처리
- **Excel 업로드 시**: raw: true 옵션으로 원본 형식 유지
- **데이터 저장 시**: spec_no 필드를 String()으로 강제 변환
- **Excel 다운로드 시**: 규격정제 열을 텍스트 형식으로 지정
- 모든 입력 경로(파일 업로드, 표 입력, 수동 입력, 수정)에서 동작

#### 7. 파일 업로드/다운로드
- **CSV 파일 지원**: 
  - UTF-8 BOM 인코딩으로 한글 완벽 지원
  - 헤더 자동 매칭
  - 중복 데이터 자동 필터링
  - 쉼표 구분자 및 따옴표 처리 (RFC 4180 준수)
  
- **Excel 파일 지원**: 
  - .xlsx 형식 업로드/다운로드
  - SheetJS 라이브러리 사용
  - 첫 번째 시트 자동 파싱

- **표 데이터 직접 입력 (Excel 복사-붙여넣기)**:
  - Excel이나 Google Sheets에서 표를 복사하여 직접 붙여넣기 가능
  - **TSV (탭 구분) 전용**: 탭 문자로만 열을 구분
  - **쉼표 안전**: 셀 안의 쉼표는 일반 문자로 처리되어 열 구분에 영향 없음
  - 헤더 포함 붙여넣기 필수

#### 8. 데이터 입력 방식
- **파일 업로드**: CSV 또는 Excel 파일로 대량 데이터 업로드
- **표 데이터 직접 입력**: Excel/Google Sheets에서 복사-붙여넣기 (TSV 형식, 쉼표 안전)
- **수동 입력**: 웹 폼을 통한 개별 데이터 입력
- **수동 입력 시 자동 완성**: 
  - 화학물질확인: 상호 자동 입력 (로그인한 회사명)
  - MSDS: 수입자 자동 입력
  - 전파법: 화주 자동 입력 (로그인한 회사명)
  - 전안법: 화주 자동 입력 (로그인한 회사명)
  - 의료기기: 수입자 자동 입력

#### 9. 데이터 관리 기능
- **조회**: 페이지네이션 지원 (페이지당 100개)
- **검색**: 전체 필드 대상 검색
- **정렬**: 모든 컬럼 기준 정렬 가능
- **수정**: 
  - 개별 데이터 수정 (모달 폼 제공)
  - 모든 필드 수정 가능
  - 규격정제가 없는 내역에도 입력 가능
- **삭제**: 
  - 개별 삭제 (확인 팝업)
  - **선택 삭제** (관리자 전용, v2.2 신규):
    - 체크박스로 여러 행 선택
    - 전체 선택/해제 기능
    - 실시간 선택 개수 표시
    - 배치 삭제 (50개씩 병렬 처리)
    - 진행 상황 실시간 표시 (프로그레스 바, 속도, 남은 시간)
    - 7가지 모든 데이터 유형 지원
  - 전체 삭제 (관리자 전용, "삭제확인" 입력 필요)
  - **중복 데이터 제거** (관리자 전용, v2.2 신규):
    - 대시보드 "중복 체크" 버튼 사용
    - 섹션별 선택 가능
    - 자동 중복 검색 및 제거
    - 중복 그룹별 상세 정보 표시

#### 10. 사용자 인터페이스
- **반응형 디자인**: 모바일/태블릿/데스크톱 지원
- **컴팩트한 레이아웃**: 
  - 테이블 폰트: 11px
  - 버튼 폰트: 10px
  - 화면당 최대 데이터 표시
- **Font Awesome 아이콘**: 직관적인 UI
- **메뉴 기반 네비게이션**: 8가지 섹션 간 빠른 전환
  - 통합조회 (규격정제 통합 검색)
  - 대시보드
  - 화학물질확인
  - MSDS
  - 전파법
  - 전안법
  - 의료기기/원안법 등
  - 비대상
  - 확인 필요 List

## 기술 스택

### 프론트엔드
- HTML5, CSS3, JavaScript (ES6+)
- Font Awesome 6.4.0 (아이콘)
- SheetJS (xlsx 라이브러리)

### 백엔드 / 데이터
- RESTful Table API
  - GET /tables/{table}?page=1&limit=100
  - GET /tables/{table}/{record_id}
  - POST /tables/{table}
  - PUT/PATCH /tables/{table}/{record_id}
  - DELETE /tables/{table}/{record_id}

### 데이터 저장소
7개의 독립 테이블:
- chemical_confirmation (29 필드)
- msds (11 필드) - MSDS 자동 분류 포함
- radio_law (24 필드) - 전파법 전용
- electrical_law (24 필드) - 전안법 전용 (인증기관 필드 포함)
- medical_device (7 필드) - 의료기기/원안법 등
- non_target (7 필드) - 비대상
- review_needed (20 필드) - 확인 필요 List (비고, 조치사항 포함)

사용자 정보:
- users 테이블 (id, username, password, role, company_name)

## 현재 기능 URI

### 메인 페이지
- `/` 또는 `/index.html` - 로그인 및 메인 대시보드

### API 엔드포인트 (상대 경로)
모든 API는 RESTful Table API를 통해 접근됩니다:

#### 화학물질확인
- `GET tables/chemical_confirmation?page=1&limit=100`
- `POST tables/chemical_confirmation`
- `DELETE tables/chemical_confirmation/{id}`

#### MSDS
- `GET tables/msds?page=1&limit=100`
- `POST tables/msds`
- `DELETE tables/msds/{id}`

#### 전파법
- `GET tables/radio_law?page=1&limit=100`
- `POST tables/radio_law`
- `DELETE tables/radio_law/{id}`

#### 전안법
- `GET tables/electrical_law?page=1&limit=100`
- `POST tables/electrical_law`
- `DELETE tables/electrical_law/{id}`

#### 의료기기
- `GET tables/medical_device?page=1&limit=100`
- `POST tables/medical_device`
- `DELETE tables/medical_device/{id}`

#### 사용자 인증
- `GET tables/users?limit=1000` - 사용자 조회 (인증용)

## 데이터 모델

### users 테이블
```javascript
{
  id: "UUID",
  username: "사용자ID",
  password: "비밀번호",
  role: "master" | "user",
  company_name: "회사명"
}
```

### chemical_confirmation 테이블
```javascript
{
  id: "UUID",
  company: "상호",
  spec_no: "규격정제",
  receipt_number: "접수번호",
  product_name: "품명",
  // ... 16개 추가 필드
}
```

### msds 테이블
```javascript
{
  id: "UUID",
  importer: "수입자",
  spec_no: "규격정제",
  internal_mgmt_no: "내부관리 No",
  substance: "물질 (CAS 번호)",
  specific_gravity: "비중",
  existing_new: "기존/신규(Cas)",
  hazardous: "유해",
  note: "비고",
  mixture_type: "혼합/단일" // 자동 분류: 단일시약/혼합시약/혼합시약(LOC)
}
```

### radio_law 테이블
```javascript
{
  id: "UUID",
  spec_no: "규격정제",
  consignee: "화주",
  model_name: "모델명",
  certification_no: "인증번호",
  note: "비고",
  manufacturer: "제조사",
  manufacturing_country: "제조국",
  // ... 16개 추가 필드
}
```

### electrical_law 테이블
```javascript
{
  id: "UUID",
  spec_no: "규격정제",
  certification_agency: "인증기관",
  consignee: "화주",
  model_name: "모델명",
  note: "비고 (정격전압 등)",
  certification_no: "인증번호",
  certification_date: "인증일자",
  manufacturer: "제조사",
  manufacturing_country: "제조국",
  item_name: "품목명"
}
```

### medical_device 테이블
```javascript
{
  id: "UUID",
  importer: "수입자",
  exporter: "수출자",
  spec_no: "규격정제",
  transmission_mgmt_no: "전송관리번호",
  // ... 35개 추가 필드
}
```

## 사용자 가이드

### 관리자 계정
- **ID**: master
- **권한**: 
  - 모든 데이터 조회/수정/삭제
  - 전체 삭제 기능 사용 가능
  - 모든 회사의 데이터 확인 가능

### 일반 사용자 계정
- **ID**: 각 수입업체별 고유 ID
- **권한**:
  - 자사 데이터만 조회/수정
  - 개별 데이터 삭제만 가능
  - 데이터 필터링:
    - 화학물질확인: "상호" 기준
    - MSDS: "수입자" 기준
    - 전파법: "화주" 기준
    - 전안법: "화주" 기준
    - 의료기기: "수입자" 기준

### 영인에스엔(주) 특별 권한
- **ID**: 영인에스엔(주) 계정
- **권한**:
  - 8개 관련 업체 데이터 모두 조회/수정 가능
  - 개별 데이터 삭제 가능
  - 관련 업체 목록:
    - 영인과학(주)
    - 영인모빌리티(주)
    - 영인바이오젠 주식회사
    - 영인에스엔(주)
    - 영인에스티(주)
    - 영인에이티(주)
    - 영인엠텍(주)
    - 영인크로매스(주)

### 데이터 업로드 가이드

#### CSV 파일 형식
```csv
상호,규격정제,접수번호,품명,...
회사A,SPEC001,REC001,제품명,...
```
- UTF-8 BOM 인코딩 필수
- 첫 행은 헤더 (컬럼명)
- 컬럼명은 시스템 필드명과 일치해야 함

#### Excel 파일 형식
- .xlsx 확장자
- 첫 번째 시트만 파싱
- 첫 행은 헤더 (컬럼명)
- 컬럼명은 시스템 필드명과 일치해야 함

### 헤더 매핑 (CSV/Excel)

#### 화학물질확인
상호, 규격정제, 접수번호, 품명, 용도, 구분(수입_제조), 제조자명, 제조국, 성분명, CAS NO., 함량, 유해성분류, 확인기관명, 확인번호, 확인일자, 유효기간, 수출자명, 수출자주소, 제출처, 확인서발행번호

#### MSDS
수입자, 규격정제, 내부관리 No, 물질, 비중, 기존/신규(Cas), 유해, 비고, 혼합/단일

#### 전파법
규격정제, 화주, 모델명, 비고, 제조사, 제조국, 인증번호, 인증일자, 품목명, 인증기관(KC), 인증유효일, 제조자주소, 시험성적서 발행번호, 시험성적서발행일, 시험기관명, 시험규격(모델명), 시험성적서 유효일, 화주 사업자번호, 추가인증번호, 추가인증서발급일자, 추가인증유효기간, 추가인증기관명

#### 전안법
규격정제, 인증기관, 화주, 모델명, 비고, 제조사, 제조국, 인증번호, 인증일자, 품목명

#### 의료기기
수입자, 수출자, 규격정제, 전송관리번호, 예정보고번호, 표준통관예정일, 수출자영문상호, 수출자영문주소, 수출국가, 제조의료기기명, 모델명, 수량, 단위, 금액, 단가, 통화단위, 인도조건, 의료기기등급, 품목허가번호, 품목명, 제조원_제조국, 제조원_업체명, 수입업소_업체명, 수입업소_허가번호, 저장방법, 사용목적, 포장단위, 유통기한, 제품번호, 제조번호, 멸균여부, 원산지표시, 비고1, 비고2, 비고3, 비고4, 비고5, 비고6

## 미구현 기능
현재 모든 요청 기능이 구현 완료되었습니다.

## 향후 개발 권장 사항

### 1. 데이터 백업 및 복구
- 정기적인 자동 백업 시스템
- CSV/Excel 전체 데이터 내보내기
- 백업 파일로부터 데이터 복구 기능

### 2. 고급 검색 기능
- 필드별 개별 검색
- 날짜 범위 검색
- 다중 조건 검색 (AND/OR)

### 3. 데이터 수정 이력 추적
- 수정 이력 기록 및 조회
- 수정 전/후 비교 기능
- 일괄 수정 기능

### 4. 통계 및 리포트
- 데이터 유형별 통계 대시보드
- 월별/분기별 수입 통계
- PDF 리포트 생성

### 5. 사용자 관리 UI
- 관리자 페이지에서 사용자 추가/삭제
- 비밀번호 변경 기능
- 사용자별 권한 세부 설정

### 6. 데이터 유효성 검증
- 필드별 형식 검증 (날짜, 이메일, 전화번호 등)
- 필수 필드 검증 강화
- 데이터 무결성 체크

### 7. 성능 최적화
- 가상 스크롤링 (대용량 데이터)
- 인덱싱 및 캐싱
- 지연 로딩 (Lazy Loading)

### 8. 모바일 앱
- 네이티브 모바일 앱 개발
- 오프라인 모드 지원
- 푸시 알림

## 파일 구조
```
/
├── index.html              # 메인 HTML 파일
├── css/
│   ├── style.css            # 메인 스타일시트
│   ├── unified-search.css   # 통합 조회 스타일
│   └── review-needed.css    # 확인 필요 List 스타일
├── js/
│   ├── app.js               # 메인 애플리케이션 로직
│   ├── auth.js              # 인증 및 권한 관리
│   ├── parser.js            # 텍스트 파싱 유틸리티
│   ├── file-handler.js      # 파일 업로드/다운로드 처리
│   ├── unified-search.js    # 규격정제 통합 조회 기능
│   ├── review-needed.js     # 확인 필요 List 관리
│   ├── selection-delete.js  # 선택 삭제 기능 (v2.2)
│   └── duplicate-checker.js # 중복 데이터 체크 및 제거 (v2.2)
└── README.md                # 프로젝트 문서
```

## 개발 환경 설정

### 필수 요구사항
- 모던 웹 브라우저 (Chrome, Firefox, Safari, Edge)
- 인터넷 연결 (CDN 라이브러리 로드용)

### 로컬 실행
1. 프로젝트 파일을 웹 서버에 배포
2. index.html 접속
3. 초기 사용자 계정으로 로그인
4. 데이터 입력 및 관리 시작

## 보안 고려사항

### 현재 구현된 보안
- 클라이언트 사이드 인증
- 역할 기반 접근 제어
- 데이터 필터링 (사용자별)

### 추가 보안 권장사항
- HTTPS 적용 필수
- 서버 사이드 인증 구현
- 비밀번호 해시 처리 (bcrypt)
- SQL 인젝션 방어
- XSS 공격 방어
- CSRF 토큰 구현
- API Rate Limiting

## 라이선스
이 프로젝트는 내부 사용을 위한 프라이빗 프로젝트입니다.

## 업데이트 로그

### v2.2 (2025-10-28)
- **선택 삭제 기능 추가**: 체크박스로 여러 행을 선택하여 일괄 삭제 가능 (관리자 전용)
  - **전체 선택/해제**: 테이블 헤더의 체크박스로 모든 행 선택/해제
  - **실시간 선택 카운터**: 선택된 항목 개수를 실시간으로 표시
  - **배치 삭제 처리**: 50개씩 병렬로 삭제하여 성능 최적화
  - **진행 상황 표시**: 
    - 시각적 프로그레스 바 (빨간색 그라데이션)
    - 실시간 퍼센트 및 처리 개수 표시
    - 삭제 속도 표시 (개/초)
    - 남은 시간 실시간 예측
  - **대용량 데이터 경고**: 100개 이상 선택 시 예상 소요 시간 표시
  - **상세한 결과 리포트**: 성공/실패 건수 및 소요 시간 표시
  - **7가지 모든 데이터 유형 지원**: 
    - 화학물질확인 (chemical_confirmation)
    - MSDS (msds)
    - 전파법 (radio_law)
    - 전안법 (electrical_law)
    - 의료기기/원안법 등 (medical_device)
    - 비대상 (non_target)
    - 확인 필요 List (review_needed)
  - **접근 제어**: 선택 삭제 버튼은 관리자 계정에만 표시
  - **일관된 UI/UX**: 기존 전체 삭제 기능과 동일한 스타일 및 사용성
- **에러 처리 개선**: 데이터 로드 실패 시 사용자 친화적인 에러 메시지 표시
  - HTTP 상태 코드 체크 및 상세 에러 메시지
  - 테이블별 에러 메시지 표시 (빨간색 경고 아이콘)
  - 네트워크 오류 및 테이블 부재 상황 안내
  - 검색 입력창 null 체크로 오류 방지
  - 대시보드 로드 시 일부 테이블 실패해도 계속 진행 (Promise.allSettled 사용)
- **통합검색 버그 수정**: 검색 결과 클릭 시 섹션 이동 및 검색 기능 정상화
  - 존재하지 않는 함수 호출 오류 수정 (searchRadioData 등)
  - searchData(type) 함수로 통일
  - non_target 섹션 검색 input ID 불일치 수정
- **전파법/전안법 중복 체크 로직 변경**: 인증번호 + 모델명 기준으로 중복 판정
  - 기존: 규격정제 + 모델명 + 인증번호 (3개 조건)
  - 변경: 인증번호 + 모델명 (2개 조건)
  - 동일한 인증번호와 모델명이 있으면 중복으로 배제
- **데이터 업로드 디버깅 개선**: TSV 파싱 및 필드 매핑 과정을 콘솔에서 확인 가능
  - 헤더 파싱 결과 출력
  - 첫 번째 레코드 파싱 결과 출력
  - 모든 섹션의 데이터 매핑 과정 출력 (입력 → 출력)
    - 화학물질확인, MSDS, 전파법, 전안법, 의료기기, 비대상, 확인필요
  - 브라우저 콘솔에서 실시간 확인 가능
- **전파법/전안법 파생모델명 필드 추가**:
  - 품목명 우측에 파생모델명 컬럼 추가
  - 표 입력, 파일 업로드, 수동 입력 모두 지원
  - 섹션 검색 시 파생모델명 포함 검색
  - 통합검색에서도 파생모델명 검색 가능
- **중복 데이터 체크 및 제거 기능 추가** (관리자 전용):
  - 대시보드에서 "중복 체크" 버튼으로 실행
  - 7개 섹션 모두 중복 체크 가능
  - 섹션별 중복 기준에 따라 자동 검사
  - 중복 그룹 중 가장 오래된 데이터 1개만 유지
  - 실시간 진행 상황 표시
  - 삭제 전 "삭제확인" 입력 필수

### v2.1 (2025-10-28)
- **확인 필요 List 비고 필드 추가**: 전안비대상 우측에 비고 열 추가
  - 데이터 테이블에 비고 컬럼 표시
  - 수동 입력/수정 폼에 비고 필드 추가
  - Excel 업로드/다운로드 시 비고 포함
- **통합검색에 확인 필요 List 포함**: 규격정제 통합검색에 확인필요 데이터 검색 추가
  - 확인 필요 List 등록 여부 표시
  - 수입자상호, 해외공급처, 비고 정보 표시
  - 전체 7개 데이터 유형 통합 검색 가능
- **통합검색 결과 클릭 기능 추가**: 검색 결과 항목을 클릭하면 해당 섹션으로 이동
  - 클릭 시 해당 데이터 유형 섹션으로 자동 이동
  - 검색어가 자동으로 섹션 검색창에 입력되고 필터링 실행
  - 클릭 가능한 항목은 커서와 호버 효과로 시각적 표시
  - 등록된 데이터(O)만 클릭 가능, 미등록(X)은 클릭 불가
- **회사명 정규화 기능 추가**: 사용자 계정 필터링 시 회사명 정규화 처리
  - "주식회사", "(주)" 자동 제거하여 비교
  - 예시: "영인랩플러스 주식회사" → "영인랩플러스"로 검색
  - 예시: "영인에스티(주)" → "영인에스티"로 검색
  - 모든 섹션에서 일관된 필터링 적용 (화학물질확인, MSDS, 전파법, 전안법, 의료기기, 비대상, 확인필요)
- **전체 삭제 기능 대폭 개선**: 대용량 데이터 전체 삭제 시 배치 처리로 성능 향상
  - **배치 삭제**: 한 번에 50개 레코드씩 병렬 삭제 (기존 1개씩 → 50배 속도 향상)
  - **진행 상황 표시**: 
    - 시각적 프로그레스 바 (빨간색 그라데이션)
    - 실시간 퍼센트 표시
    - 삭제 속도 표시 (개/초)
    - 남은 시간 예측
    - 완료 시 자동으로 창 닫힘
  - **대용량 데이터 경고**: 1000개 이상 시 예상 소요 시간 표시
  - **성능 향상**: 1000개 데이터 삭제 시 100초 → 20초 (5배 빠름)
  - **안정성 개선**: 진행 표시 창 제거 로직 개선 및 최대 10000개까지 처리 가능
- **표 데이터 저장 성능 대폭 개선**: Excel/Google Sheets 복사-붙여넣기 기능에 배치 처리와 진행 표시 추가
  - **배치 처리**: 한 번에 50개 레코드씩 병렬 저장 (기존 1개씩 → 50배 속도 향상)
  - **실시간 진행 표시**:
    - 시각적 프로그레스 바 (녹색 그라데이션)
    - 실시간 퍼센트 및 처리 개수 표시
    - 저장 속도 표시 (개/초)
    - 남은 시간 실시간 예측
  - **대용량 데이터 경고**: 1000개 이상 시 예상 소요 시간 표시 및 확인
  - **중복 데이터 사전 처리**: 저장 전에 기존 데이터와 중복 검사하여 효율적 처리
  - **상세한 결과 리포트**: 성공/실패/중복 개수 및 소요 시간 표시 (✅❌⏭️ 이모지)
  - **성능**: 1000개 데이터 저장 시 50분 → 1분 (50배 빠름)
  - **시스템 전체 최적화 완료**: CSV, Excel, 표 붙여넣기 3가지 입력 방법 모두 배치 처리 적용

### v2.0 (2025-10-27)
- **대용량 파일 업로드 개선**: 확인 필요 List를 포함한 모든 데이터 유형에서 대용량 Excel/CSV 파일 업로드 최적화
  - **배치 처리**: 한 번에 50개 레코드씩 병렬 업로드 (기존 1개씩 → 50배 속도 향상)
  - **파일 크기 경고**: 10MB 이상 파일 업로드 시 자동 경고 및 예상 소요 시간 표시
  - **개선된 진행 표시**: 
    - 시각적 프로그레스 바 (퍼센트 표시)
    - 실시간 업로드 속도 표시 (개/초)
    - 남은 시간 예측 표시
    - 성공/실패 건수 실시간 업데이트
  - **안정성 향상**: 배치 간 대기 시간 추가로 서버 부하 방지
  - **에러 처리 개선**: 업로드 실패 시 상세 오류 메시지 표시
  - **성능**: 1000개 이상의 대용량 데이터도 안정적으로 업로드 가능 (예상 소요 시간 자동 계산)
- **조치사항 기능 추가**: 확인 필요 List에 조치사항 열 추가
  - 데이터 테이블 맨 우측에 조치사항 필드 추가
  - 수정 버튼으로 조치사항 빠른 입력/수정 가능
  - Excel 다운로드 시 조치사항 포함
- **필터 UX 개선**: 필터 버튼 클릭 시 검색창 자동 초기화로 사용성 향상

### v1.9 (2025-10-27)
- **확인 필요 List 기능 추가**: 수입 요건 검토 시스템 구축
  - 4가지 필터: 화관법 검토 필요, 화평법 검토 필요, 전파법 검토 필요, 전안법 검토 필요
  - 화평법 검토 시 "MSDS 필요" 또는 "신규신고 필요" 시각적 뱃지 표시
  - 필터별 Excel 다운로드 기능
  - 사용자 계정은 자사 수입자상호 데이터만 조회
- **숫자 형식 문자열 보존 기능**: 규격정제 필드에서 20001.210 같은 값이 20001.21로 변환되는 문제 해결
  - Excel 업로드/다운로드, 표 입력, 수동 입력, 수정 모든 경로에서 원본 형식 유지
- **의료기기/비대상 수정 폼 개선**: 수정 모달에 필드 추가 및 타입 라벨 업데이트

### v1.8 (2025-10-27)
- **표 데이터 입력 TSV 전용 변경**: Excel/Google Sheets 복사-붙여넣기 기능을 TSV(탭 구분) 전용으로 변경
  - 셀 안의 쉼표가 열 구분자로 오인식되는 문제 완전 해결
  - CSV 파일 업로드는 계속 쉼표 구분자 사용 (따옴표 처리 지원)
- **MSDS 필드 추가 및 자동 분류**: 
  - "유해", "비고" 필드 추가
  - 규격정제별 물질 개수와 비중 합계로 혼합/단일 자동 분류
  - 물(CAS 7732-18-5) 제외하고 계산
  - 분류 결과: 단일시약 / 혼합시약 / 혼합시약(LOC)
- **전안법 인증기관 필드 추가**: 
  - 화주 왼쪽에 인증기관 열 추가
  - 통합 검색 결과에 인증기관 정보 표시
- **통합 검색 기능 강화**:
  - 화학물질확인, 전파법, 전안법에 화주/상호 정보 추가
  - 의료기기에 수입자 정보 추가
  - 전안법 검색 결과에 비고(정격전압) 표시

### v1.7 (2025-10-24)
- **전파법/전안법 독립 테이블 분리**: 기존 radio_electrical_law 테이블을 radio_law와 electrical_law로 완전히 분리
- **규격정제 통합 조회 기능 추가**: 대시보드에서 규격정제를 입력하여 5가지 데이터 유형의 등록 상태를 한번에 조회
- **영인에스엔(주) 특별 권한 구현**: 영인에스엔(주) 계정이 8개 관련 업체 데이터 모두 조회/수정 가능
- **3단계 권한 시스템**: 관리자 → 영인에스엔(주) → 일반 사용자 권한 체계 구축
- **대시보드 통계 개선**: 전파법과 전안법 통계를 별도로 표시

### v1.6 (2025-10-24)
- **데이터 수정 기능 추가**: 모든 데이터 유형에 대해 개별 레코드 수정 가능
- 각 테이블 행에 "수정" 버튼 추가
- 수정 모달에서 모든 필드 편집 가능
- 규격정제가 없는 내역도 수정하여 입력 가능

### v1.5 (2025-10-24)
- 애플리케이션 이름을 "AIN 수입요건 관리"로 변경
- 중복 데이터 자동 방지 기능 추가 (파일 업로드 및 수동 입력)
- 일반 사용자 계정에서 자사 데이터만 필터링되도록 개선
- 의료기기 테이블에 "수입자", "수출자" 컬럼 추가

### v1.4 (이전)
- 전체 삭제 기능 추가 (관리자 전용)
- 폰트 크기 축소로 화면 활용도 개선
- 파일 업로드/다운로드 기능 구현
- 4가지 데이터 유형 지원

### v1.3 (이전)
- 사용자 인증 시스템 구현
- 역할 기반 접근 제어 추가

### v1.2 (이전)
- RESTful API 통합
- 페이지네이션 구현

### v1.1 (이전)
- 기본 CRUD 기능 구현

### v1.0 (이전)
- 초기 프로젝트 생성

## 지원
문의사항이나 버그 리포트는 시스템 관리자에게 연락하시기 바랍니다.
